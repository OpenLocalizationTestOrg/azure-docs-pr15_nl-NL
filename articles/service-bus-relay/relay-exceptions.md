<properties 
    pageTitle="Uitzonderingen doorsturen | Microsoft Azure"
    description="Lijst met uitzonderingen Relay en voorgestelde acties."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Relay uitzonderingen

In dit artikel bevat een aantal uitzonderingen waarop u gegenereerd door het Microsoft Azure Relay API's. Deze verwijzing kan worden gewijzigd, dus Kijk regelmatig op updates.

## <a name="exception-categories"></a>Uitzondering categorieën

De Relay-API's genereren uitzonderingen die kunnen worden ingedeeld in de volgende categorieën, samen met de bijbehorende actie die u ondernemen kunt om deze proberen te herstellen.

1.  Gebruiker kleurcodering fout ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Algemene actie: proberen op te lossen van de code voordat u verdergaat.

2.  Setup/configuratiefout ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Algemene actie: Controleer uw configuratie en desgewenst wijzigen.

3.  Tijdelijke uitzonderingen ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Algemene actie: probeer het opnieuw of gebruikers een melding.

4.  Andere uitzonderingen ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Algemene actie: specifiek zijn voor het uitzonderingstype; Zie de tabel in de volgende sectie. 

## <a name="exception-types"></a>Uitzondering typen

De volgende tabel bevat SMS uitzondering typen, en hun oorzaken en notities van de voorgestelde actie die u kunt uitvoeren.

| **Uitzonderingstype**                                                                                                                                                                                                                                                                                | **Beschrijving/oorzaak/voorbeelden**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Voorgestelde actie**                                                                                                                                                                                                                                                                                                                                                                                                          | **Opmerking over de automatische/direct opnieuw**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | De server reageert niet op de gewenste bewerking binnen de opgegeven tijdsduur dat wordt beheerd door [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). De server kan deze bewerking hebt voltooid. Dit kan gebeuren vanwege netwerk of andere vertragingen infrastructuur.                                                                                                                                                                                                                                                                   | De systeemstatus voor consistentie en probeer het opnieuw indien nodig. Zie [time-out uitzonderingen](#timeoutexception).                                                                                                                                                                                                                                                                                                                                                           | Opnieuw kan helpen in sommige gevallen; opnieuw logica toevoegen aan code.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | De gebruikersbewerking gevraagde is niet toegestaan binnen de server of service. Zie het uitzonderingsbericht voor meer informatie. Bijvoorbeeld [voltooid](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) die deze uitzondering wordt gegenereerd, als het bericht is ontvangen in de modus voor **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Controleer de code en de documentatie. Controleer of dat de bewerking is ongeldig.                                                                                                                                                                                                                                                                                                                                         | Opnieuw helpt niet.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Wordt geprobeerd om aan te roepen een bewerking op een object dat al is gesloten, afgebroken of verwijderd. In sommige gevallen is de de transactie al verwijderd.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Controleer de code en zorg ervoor dat deze wordt geen gebruikgemaakt van bewerkingen op een verwijderd object.                                                                                                                                                                                                                                                                                                                                          | Opnieuw helpt niet.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | Het object [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) kan niet een token ophalen, het token ongeldig is of het token bevat geen de claims vereist om de bewerking uitvoeren.                                                                                                                                                                                                                                                                                                                                                                                                  | Controleer of dat de token-provider is gemaakt met de juiste waarden. Controleer de configuratie van de service beheren in Access.                                                                                                                                                                                                                                                                                                   | Opnieuw kan helpen in sommige gevallen; opnieuw logica toevoegen aan code.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Een of meer argumenten die zijn opgegeven voor de methode zijn ongeldig.<br /> De opgegeven [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) of [maken](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) URI bevat segmenten de betreffende bedrijfsactiviteit pad.<br /> Het URI-schema in [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) of [maken](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) ingevoerd is ongeldig. <br />De waarde van de eigenschap is groter dan 32KB. | Controleer het bellen code en controleer of dat de argumenten juist zijn.                                                                                                                                                                                                                                                                                                                                                           | Opnieuw helpt niet.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Service kan niet verwerking van de aanvraag op dit moment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Client kunt wacht voor een periode en probeer het opnieuw.                                                                                                                                                                                                                                                                                                                                                           | Client mogelijk opnieuw proberen na bepaalde interval. Als u een nieuwe poging resulteert in een andere uitzondering, schakelt u opnieuw gedrag van deze uitzondering. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | De SMS-berichten entity heeft de toegestane maximumgrootte bereikt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Maak ruimte in de entiteit door berichten van de dienst of de onderliggend wachtrijen ontvangen. Zie [QuotaExceededException](#quotaexceededexception).                                                                                                                                                                                                                                                                                                                                      | Probeer het opnieuw kunt mogelijk als berichten in de tussentijd zijn verwijderd.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Een berichtlading groter is dan de limiet van 256K. Houd er rekening mee dat de limiet van 256 k de totale berichtgrootte, waaronder Systeemeigenschappen en eventuele realiseren .NET kunt is.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | De grootte van de berichtlading verkleinen en klik vervolgens probeer het opnieuw.                                                                                                                                                                                                                                                                                                                                                         | Opnieuw helpt niet.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) geeft aan dat een voor een specifieke entiteit is overschreden.

Deze uitzondering terugloopt voor doorsturen van E-mail, de [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), die aangeeft dat het maximum aantal listeners voor dit eindpunt is overschreden. Hiermee wordt aangegeven in de **MaximumListenersPerEndpoint** -waarde van het uitzonderingsbericht.

## <a name="timeoutexception"></a>TimeoutException 

Een [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) geeft aan dat een bewerking door de gebruiker geactiveerde langer dan de time-out voor bewerking duurt. 

U kunt de waarde van de eigenschap [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) , kunt u deze limiet kunnen door ook oorzaak per [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)moet controleren.

U kunt voor doorsturen van E-mail, time-out uitzonderingen ontvangen bij het openen van een verbinding van de afzender relay eerst. Zijn er twee veelvoorkomende oorzaken voor deze uitzondering:

1. De waarde [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) misschien te klein (zelfs een deel van een tweede).
2. De on-premises implementatie relay listener(s) mogelijk niet heeft gereageerd (of firewall regels problemen voorkomen dat de listeners nieuwe clientverbindingen accepteert kunt tegenkomen) en de waarde [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) is minder dan ongeveer 20 seconden.

Bijvoorbeeld:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Veelvoorkomende oorzaken

Zijn er twee veelvoorkomende oorzaken van deze fout: onjuiste configuratie of een tijdelijke servicefout.

1. **Onjuiste configuratie** 
    time-out voor de bewerking is misschien te klein is voor de operationele voorwaarde. De standaardwaarde voor de time-out voor bewerking in de client SDK is 60 seconden. Controleer of uw code heeft de waarde die is ingesteld op iets te klein is. Houd er rekening mee dat de voorwaarde van het netwerk en CPU-gebruik van invloed kan zijn op de tijd die nodig voor een bepaalde bewerking is voltooid, zodat de time-out voor bewerking mag niet worden ingesteld op een zeer kleine waarde.

2. **Tijdelijke servicefout** 
    soms Relay kunt vertragingen bij het verwerken van aanvragen; bijvoorbeeld tijdens perioden van hoge-verkeer is toegestaan. In dat geval kunt u de bewerking na een vertraging opnieuw proberen totdat de bewerking voltooid is. Als u dezelfde bewerking wordt nog steeds niet na meerdere pogingen, Ga naar de [site van Azure-service status](https://azure.microsoft.com/status/) om te kijken of er een bekende service bijvoorbeeld.

## <a name="next-steps"></a>Volgende stappen:

- [Relay Veelgestelde vragen](relay-faq.md)
- [Een naamruimte maken](relay-create-namespace-portal.md)
- [Aan de slag met .NET](relay-hybrid-connections-dotnet-get-started.md)
- [Aan de slag met knooppunt](relay-hybrid-connections-node-get-started.md)