<properties
   pageTitle="Beschikbaarheid van controlelijst | Microsoft Azure"
   description="Controlelijst die richtlijnen voor beschikbaarheid bezwaren tijdens het ontwerp bevat."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Beschikbaarheid van controlelijst

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Het ontwerp van toepassing

- **Voorkomen dat een potentieel risico.** Alle onderdelen, services, resources en berekeningscluster exemplaren moeten worden geïmplementeerd als meerdere exemplaren om te voorkomen dat een potentieel risico beschikbaarheid beïnvloeden. Dit geldt ook voor verificatiemethoden. De toepassing moeten worden geconfigureerd voor het gebruik van meerdere exemplaren, en voor automatisch fouten opsporen en aanvragen omleiden naar niet-kan exemplaren waar het platform dit niet automatisch doet ontwerpen.
- **Ontleden werkbelasting per verschillende service level agreement.** Als een service bestaat uit wordt kritieke en minder kritieke-werkbelastingen, ze anders beheren en geef de service-functies en het aantal exemplaren om te voldoen aan de vereisten van hun beschikbaarheid.
- **Minimaliseren en serviceafhankelijkheden begrijpen.** Beperk het aantal verschillende services van indien mogelijk gebruikt en u weet wat alle van de functie en service afhankelijkheden die in het systeem bestaan. Dit bevat de aard van de afhankelijkheden en de invloed van mislukt of beperkte prestaties in elk nummer op de algehele toepassing. Microsoft garandeert ten minste 99,9 percentage beschikbaarheid voor de meeste services, maar dit betekent dat elke extra service een toepassing afhankelijk is van potentieel Hiermee reduceert u de algehele beschikbaarheid SLA van uw systeem met 0,1 procent.
- **Taken en berichten idempotency is ingeschakeld (veilig herhaald) worden waar mogelijk ontwerpen**, zodat die aanvragen gedupliceerd veroorzaken geen problemen. Een service kan bijvoorbeeld fungeren als een consumer die berichten als aanvragen van andere delen van het systeem die als producenten fungeren verwerkt. Als de consument mislukt na het verwerken van het bericht, maar voordat bevestigd dat deze is verwerkt, kunt u een producent mogelijk een herhaald indienen die kan worden verwerkt door een ander exemplaar van de consument. Daarom consumenten en de bewerkingen die het verricht moeten idempotency is ingeschakeld zodat een eerder uitgevoerde bewerking herhalen niet weer de resultaten ongeldig. Dit kan betekenen detecteren gedupliceerd berichten of consistent te houden met behulp van een benadering van optimistische conflicten.
- **Gebruik de makelaar van een bericht dat de beschikbaarheid voor kritieke transacties implementeert.** Veel scenario's voor het verzenden van taken of toegang krijgen tot het externe services gebruik messaging instructies doorgeven tussen de toepassing en de doelservice. Voor de beste prestaties moet de toepassing kunnen het bericht wilt verzenden en Ga terug meer om aanvragen te verwerken, zonder dat moet wachten om een antwoord nodig hebt. Om te garanderen bezorging van berichten, moet het berichtensysteem beschikbaarheid bieden. Azure-Service Bus berichtenwachtrijen implementeren _ten minste eenmaal_ semantiek. Dit betekent dat elk bericht die zijn gepubliceerd naar een wachtrij niet verloren worden, hoewel dubbele exemplaren onder bepaalde omstandigheden kunnen worden bezorgd. Als de berichtverwerking van het idempotency is ingeschakeld is (Zie het vorige item), herhaald bezorging mag geen een probleem.
- **Toepassingen maken zonder problemen verslechteren** wanneer kunnen bereiken resource maximale en de juiste actie ondernemen om te minimaliseren de gevolgen voor de gebruiker. In sommige gevallen, de belasting van de toepassing mogelijk groter is dan de capaciteit van een of meer delen, de oorzaak van beperkte beschikbaarheid en is mislukt verbindingen. Schaalbaarheid kunt u dit verhelpen, maar deze mogelijk een limiet van andere factoren, zoals de beschikbaarheid van resources of kosten hebt bereikt. De toepassing ontwerpen zodat in dit geval deze automatisch zonder problemen afnemen kan. Bijvoorbeeld in een e-commerce-systeem, als het subsysteem verwerking onder druk staat (of zelfs volledig is mislukt), kan het worden tijdelijk uitgeschakeld terwijl andere functionaliteit gebruiken (zoals de productcatalogus bladeren) om door te gaan. Het is mogelijk geschikt zijn voor uitstellen aanvragen voor een mislukte subsysteem, bijvoorbeeld nog steeds inschakelen klanten om in te dienen orders, maar ze opslaan voor later verwerking, wanneer het subsysteem orders weer beschikbaar is.
- **Probleemloos snelle burst gebeurtenissen verwerken.** De meeste toepassingen moeten worden afgehandeld variërende werkbelasting over een periode, zoals pieken eerst te beginnen in de ochtend in een bedrijfstoepassing of wanneer een nieuw product wordt uitgebracht in een e-commerce-site. Automatisch schalen kan helpen u omgaat met het selectievakje laden, maar het duurt enige tijd voor extra exemplaren online komt en verwerken van aanvragen. Voorkomen dat plotselinge en vooral onverwacht lichtflitsen activiteit bedolven onder de toepassing: ontwerp deze naar de wachtrij aanvragen voor de site gebruikmaakt van services en afnemen zonder problemen wanneer wachtrijen nabijheid volledige capaciteit zijn. Zorg ervoor dat er voldoende prestaties en capaciteit beschikbaar onder niet-burst voorwaarden is voor het corrigeren van de wachtrijen en afhandelen openstaande aanvragen. Zie voor meer informatie de [wachtrij gebaseerde laden herverdelen patroon](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Implementatie en onderhoud

- **Meerdere exemplaren van rollen voor elke service implementeren.** Microsoft stelt beschikbaarheid garanties voor services die u maakt en implementeren, maar deze garanties gelden alleen als u ten minste twee instanties van elke rol in de service implementeren. Hiermee worden één rol niet beschikbaar is, terwijl de andere actief blijft. Dit is vooral belangrijk als u wilt implementeren van updates naar een live systeem zonder te onderbreken klanten activiteiten; exemplaren kunnen worden uitgeschakeld en afzonderlijk wordt bijgewerkt terwijl de anderen online doorgaan.
- **Hosttoepassingen in meerdere datacenters.** Hoewel erg waarschijnlijk, is het mogelijk voor een hele datacenter off via een gebeurtenis, zoals een natuurlijke noodgevallen of Internet is mislukt. Belangrijke zakelijke toepassingen moeten worden uitgevoerd in meer dan één datacenter te leveren maximale beschikbaarheid. Dit kan ook latentie voor lokale gebruikers verkleinen en bieden extra mogelijkheden voor flexibiliteit bij het bijwerken van toepassingen.
- **Automatiseren en test implementatie en onderhoud taken.** Gedistribueerde toepassingen bestaan uit meerdere onderdelen die moeten samenwerken. Implementatie moet daarom worden geautomatiseerd, geteste en beproefde regelingen zoals scripts en implementatie van toepassingen gebruiken. Deze kunnen bijwerken en configuratie valideren en de implementatie te automatiseren. Geautomatiseerde technieken moeten ook worden gebruikt om uit te voeren van updates van alle of delen van toepassingen. Het is belangrijk om te testen al deze bewerkingen volledig om ervoor te zorgen dat fouten geen extra downtime veroorzaken. Alle implementatie gereedschap moet geschikt beveiligingsbeperkingen ter bescherming van de gedistribueerde toepassing; definiëren en zorgvuldig afdwingen van beleidsregels voor implementatie en dat u een menselijke tussenkomst minimaliseren.
- **Ontwikkel- en functies van het platform kunt u overwegen** wanneer deze beschikbaar zijn. Bijvoorbeeld Azure-Cloudservices tijdelijke en productieomgevingen gebruikt, kunt toepassingen om te worden veranderd uit een andere direct door een virtueel IP-adres omwisselen (VIP omwisselen). Echter als u liever on-premises fase of verschillende versies van de toepassing gelijktijdig implementeren en geleidelijk gebruikers te migreren, u mogelijk geen gebruikmaken van een bewerking VIP uitwisselen.
- **Configuratiewijzigingen toepassen zonder hergebruik** het exemplaar indien mogelijk. In veel gevallen kunnen de configuratie-instellingen voor een Azure toepassing of service worden gewijzigd zonder de rol opnieuw worden gestart. Rol laten zien gebeurtenissen die kunnen worden verwerkt om te detecteren configuratiewijzigingen en deze toepassen op onderdelen binnen de toepassing. Enkele wijzigingen in de instellingen van de platform core hoeven echter een rol opnieuw worden gestart. Als u onderdelen en -services maakt, vergroot de beschikbaarheid en uitvaltijd met het ontwerpen van deze configuratie-instellingen wijziging accepteren zonder de toepassing als geheel opnieuw worden gestart.
- **Gebruik de upgrade domeinen voor nul downtime tijdens updates.** Azure eenheden zoals web berekenen en werknemer rollen toegewezen voor het upgraden van domeinen. De upgrade domeinen groeperen rol exemplaren zodat, wanneer een lopende update plaatsvindt, elke rol in het domein dat de upgrade is gestopt, bijgewerkt en opnieuw op zijn beurt wordt gestart. Hiermee wordt de invloed op de beschikbaarheid van de toepassing geminimaliseerd. U kunt opgeven hoeveel upgrade domeinen moeten worden gemaakt voor een service bij de service wordt geïmplementeerd.

    > [AZURE.NOTE] Rollen ook over foutenstructuuranalyse domeinen, die elk redelijk onafhankelijk van andere domeinen foutenstructuuranalyse wat betreft server rek, power en de bepalingen is, de kans van een storing dat dit gevolgen heeft alle exemplaren van de rol wilt minimaliseren koeling gedistribueerd. Deze verdeling automatisch plaatsvindt en u kunt deze niet beheren.

- **Beschikbaarheid sets voor Azure virtuele machines configureren.** Twee of meer virtuele machines plaatsen in dezelfde beschikbaarheid instellen zorgt ervoor dat deze virtuele machines wordt niet geïmplementeerd in hetzelfde foutenstructuuranalyse domein. Om te maximaliseren beschikbaarheid, moet u meerdere exemplaren van elke kritieke virtuele machine die worden gebruikt door uw systeem maken en deze exemplaren plaatsen in bepaalde beschikbaarheid. Als u meerdere virtuele machines die andere doeleinden gebruikt, maakt u een beschikbaarheid instellen voor elke virtuele machine. Exemplaren van elke virtuele machine aan elke set beschikbaarheid toevoegen. Als u afzonderlijke virtuele machines fungeert als een webserver en een reporting server hebt gemaakt, maakt u bijvoorbeeld een beschikbaarheid instellen voor de webserver en een andere beschikbaarheid instellen voor de reporting server. Exemplaren van de web server virtuele machine de beschikbaarheid van de server web instellen en exemplaren van de rapportage server virtuele machine toevoegen aan de rapportage server beschikbaarheid set toevoegen.

## <a name="data-management"></a>Gegevensbeheer

- **Gebruikmaken van gegevens herhaling** tot en met zowel lokale als geografische redundantie. Gegevens in Azure opslag is doorgevoerd ter bescherming tegen verlies voor het geval de infrastructuur is mislukt en bepaalde aspecten van deze replicatie kunnen worden geconfigureerd. Bijvoorbeeld mogelijk alleen-lezen kopieën van gegevens worden gerepliceerd in meer dan één geografische regio (genoemd leestoegang globaal redundante opslag of AB-GRS). Houd er rekening mee dat u extra kosten AB-GRS gebruiken bijhoudt. Zie [Azure opslag prijzen](https://azure.microsoft.com/pricing/details/storage/)voor meer informatie.
- **Gebruik optimistische gelijktijdigheid en eventuele consistentie** indien mogelijk. Transacties dat toegang tot bronnen via vergrendelen (Pessimistische gelijktijdigheid) blokkeren kan ertoe leiden dat slechte prestaties en beschikbaarheid, aanzienlijk verkorten. Deze problemen kunnen worden omgezet met name acute in gedistribueerde systemen. In veel gevallen kunnen pas op dat ontwerp en technieken zoals partitioneren de kans op conflicterende updates optreedt minimaliseren. Waar gegevens worden gerepliceerd of in een afzonderlijk bijgewerkte store wordt gelezen, worden de gegevens alleen eenduidig uiteindelijk. Maar de voordelen meestal uiterst wegen tegen de invloed op de beschikbaarheid van het gebruik van transacties direct een consistente.
- **Gebruik periodieke back-up- en punt-in-tijd herstellen**, en controleer of het voldoet aan de herstel wijst u doelstelling (vrijgegeven Productieorder). Regelmatig automatisch back-up van gegevens die elders niet behouden en controleer of dat u kunt betrouwbaar herstellen zowel de gegevens als de toepassing zelf moet een fout worden uitgevoerd. Gegevensreplicatie is niet een back-upfunctie, omdat er fouten en inconsistenties kennis via mislukt, fout of schadelijke bewerkingen voor alle winkels worden gerepliceerd. De back-proces moet secure om de gegevens tijdens overdracht en in opslag te beveiligen. Databases of delen van een gegevensopslag kunnen meestal herstellen naar een vorige punt in tijd met behulp van transactielogboeken. Microsoft Azure biedt een back-faciliteit voor gegevens die zijn opgeslagen in Azure SQL-Database. De gegevens worden geëxporteerd naar een back-pakket op Azure-blobopslag en kan worden gedownload naar een beveiligde on-premises locatie voor de opslag.
- **Schakel de optie beschikbaarheid secundaire kopie van een cache Azure bestand Vgx. te bewaren.** Wanneer u met Azure bestand Vgx. Cache, de optie standaard secundaire kopie van de inhoud te bewaren. Zie [maken een cache in Azure bestand Vgx. Cache](https://msdn.microsoft.com/library/dn690516.aspx)voor meer informatie.

## <a name="errors-and-failures"></a>Fouten en fouten

- **Het concept van een time-out introduceren.** Services en resources mogelijk niet meer beschikbaar, de oorzaak van het aanvragen mislukt. Zorg ervoor dat de time-out die u toepast geschikt voor elke service of de resource zijn en de client die toegang heeft tot deze. (In sommige gevallen mogelijk geschikt zijn voor het toestaan van een langere time-out voor een specifiek exemplaar van een klant, afhankelijk van de context en andere acties waarmee de client wordt uitgevoerd.) Zeer korte time-out mogelijk overtollige opnieuw bewerkingen voor services en resources met hoge latentie. Erg lang time-out kunnen leiden tot blokkeren als u een groot aantal aanvragen in de wachtrij, wachten op een service of de resource om te reageren.
- **Probeer mislukte bewerkingen die worden veroorzaakt door tijdelijk fouten.** Een strategie opnieuw voor toegang tot alle services en resources waar ze niet per definitie ondersteuning voor automatische verbinding opnieuw bieden te ontwerpen. Gebruik een strategie met een toeneemt vertraging op tussen nieuwe pogingen als het aantal mislukte toeneemt, om te voorkomen dat overbelasting van de resource en toe te staan dat deze zonder problemen herstellen en verwerken van aanvragen in de wachtrij. Continu pogingen met zeer korte vertragingen hebben waarschijnlijk het probleem exacerbate.
- **Stoppen met het verzenden van aanvragen voor trapsgewijze fouten te voorkomen** wanneer externe services niet beschikbaar zijn. Er zijn situaties waarin tijdelijk of andere fouten, die variëren in ernst van een gedeeltelijk verlies van connectivity bij voltooid storing van een service, veel langer duren dan verwacht om terug te keren naar de normale. Bovendien als een service bezet is, kan storing in een deel van het systeem leiden tot trapsgewijze fouten en resulteren in veel bewerkingen terwijl u naar kritieke systeembronnen zoals geheugen, threads en databaseverbindingen wordt geblokkeerd. In plaats van continu opnieuw een die is waarschijnlijk mislukt, moet de toepassing snel accepteren dat de bewerking is mislukt, en deze fout worden verwerkt. U kunt het patroon stroomonderbreker aanvragen voor specifieke bewerkingen voor gedefinieerde perioden negeren. Zie voor meer informatie [Stroomonderbreker patroon](https://msdn.microsoft.com/library/dn589784.aspx).
- **Opstellen of herfst terug naar meerdere onderdelen** te verminderen van het effect van een specifieke service wordt offline of niet beschikbaar. Ontwerp toepassingen om te profiteren van meerdere exemplaren zonder die gevolgen hebben voor bewerking en bestaande verbindingen indien mogelijk. Gebruik van meerdere exemplaren en aanvragen ertussen, distribueren en detecteren in en verstuur aanvragen in mislukte exemplaren, om te maximaliseren beschikbaarheid.
- **Herfst terug naar een andere service of de werkstroom** indien mogelijk. Bijvoorbeeld als schrijven met SQL-Database is mislukt, tijdelijk gegevens opslaan in blobopslag. Geef een locatie voor het schrijven in blobopslag met SQL-Database wanneer de service beschikbaar. In sommige gevallen wellicht een mislukte bewerking een alternatief bewerking waarmee de toepassing blijven werken zelfs wanneer een onderdeel of service is mislukt. Indien mogelijk fouten opsporen en omleiden serviceaanvragen met andere services die u kunnen een geschikt alternatief functionaliteit bieden en back-up of verminderde functionaliteit exemplaren die core bewerkingen onderhouden kunnen terwijl de primaire-service offline is.

## <a name="monitoring-and-disaster-recovery"></a>Cmdlets voor controle en noodgevallen herstel

- **Uitgebreide instrumentation opgeven voor waarschijnlijk fouten en mislukte gebeurtenissen** om aan te melden bij beheerders. Voor fouten die zijn waarschijnlijk maar nog niet hebt opgetreden, voldoende gegevens om in te schakelen beheerders met de oorzaak, verklein de situatie, en zorg ervoor dat het systeem beschikbaar blijft. Voor fouten die al zijn opgetreden, moet de toepassing weer van een foutbericht weergegeven voor de gebruiker maar wilt uitvoeren, doorgaan met verminderde functionaliteit. In alle gevallen het systeem van toezicht volledig details waarmee beheerders met het effect van een snelle herstel, moet vastleggen en indien nodig, voor ontwerpers en ontwikkelaars voor het wijzigen van het systeem om te voorkomen dat de situatie ontstaan opnieuw.
- **Systeemstatus controleren door te implementeren foutcontrole functies.** De gezondheid en de prestaties van een toepassing kunnen afnemen na verloop van tijd zonder dat ze opvallend totdat deze niet meer. Sondes implementeren of functies die regelmatig worden uitgevoerd vanuit buiten de toepassing controleren. Deze controles kunnen zijn net zo eenvoudig als het meten van de reactietijd voor de toepassing als geheel, voor afzonderlijke onderdelen van de toepassing, voor afzonderlijke services die de toepassing gebruikt of voor afzonderlijke onderdelen. Schakelt functies processen om ervoor te zorgen ze geldige resultaten wilt produceren, latentie meten en beschikbaarheid controleren en informatie uit het systeem halen kunnen uitvoeren.
- **Alle failover en fallback-systemen regelmatig testen** om ervoor te zorgen ze beschikbaar zijn en werkt zoals verwacht. Wijzigingen in systemen en bedrijfsactiviteiten invloed kunnen zijn op failover en fallback-functies, maar de gevolgen kan niet wordt herkend totdat het systeem mislukt of overbelasting wordt. Test dit voordat deze is vereist voor dit live gedurende runtime.
- **Test de systemen voor toezicht.** Geautomatiseerde failover- en fallback-systemen en handmatige visualisatie van systeemstatus en prestaties met behulp van dashboards, wordt alle hangt af van cmdlets voor controle en instrumentation goed werkt. Als deze elementen, ik mis cruciale informatie mislukt, of onjuiste gegevens rapport, een operator mogelijk niet en zich daarna realiseert dat het systeem beschadigd of beschadigde is.
- **De voortgang van langdurige werkstromen bijhouden** en probeer het opnieuw op is mislukt. Langdurige werkstromen bestaan vaak uit meerdere stappen. Zorg ervoor dat elke stap onafhankelijk is en opnieuw kan worden verzonden om de kans dat de gehele werkstroom moet worden teruggezet minimaliseren of dat meerdere veredelingsprodukten transacties moeten worden uitgevoerd. Controleer en de voortgang van langdurige werkstromen beheren door te implementeren van een patroon zoals [Scheduler Agent toezichthouder patroon](https://msdn.microsoft.com/library/dn589780.aspx).
- **Plan voor herstel.** Controleer of er een beschreven, geaccepteerd en volledig geteste plan voor herstel van elk type storing die onderdeel worden weergegeven of al het systeem niet beschikbaar is. Controleer regelmatig de procedures en zorg ervoor dat alle beheerders bekend met het proces bent.
